<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222"><link rel="manifest" href="/images/site.webmanifest"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic%7CNoto+Sans+SC:300,300italic,400,400italic,700,700italic%7CJetBrains+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/orange/pace-theme-minimal.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"frezcirno.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"algolia":{"appID":"58UVJHSE0E","apiKey":"d744fcda35f6b151578a7ce256237356","indexName":"blog","hits":{"per_page":10}}}</script><script src="/js/config.js"></script><meta name="description" content="Leetcode  链表 ✅ dp ✅ 排列组合 ❓ 大数模运算 ❓ 图算法 ❓ 数论 ❓ 字符串 ❓"><meta property="og:type" content="article"><meta property="og:title" content="暑期实习 - 面试准备"><meta property="og:url" content="https://frezcirno.github.io/2024/04/07/interview/index.html"><meta property="og:site_name" content="Frezcirno的博客"><meta property="og:description" content="Leetcode  链表 ✅ dp ✅ 排列组合 ❓ 大数模运算 ❓ 图算法 ❓ 数论 ❓ 字符串 ❓"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-04-07T13:04:23.000Z"><meta property="article:modified_time" content="2024-04-17T09:21:12.361Z"><meta property="article:author" content="frezcirno"><meta property="article:tag" content="programming, code"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://frezcirno.github.io/2024/04/07/interview/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://frezcirno.github.io/2024/04/07/interview/","path":"2024/04/07/interview/","title":"暑期实习 - 面试准备"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>暑期实习 - 面试准备 | Frezcirno的博客</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9HV7FT1HW"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-Y9HV7FT1HW","only_pageview":false,"measure_protocol_api_secret":null}</script><script src="/js/third-party/analytics/google-analytics.js"></script><script defer src="/assets/drawFlower.js"></script><style>@font-face{font-family:'Libertinus Serif';src:url(https://frezcirno.github.io/static/Libertinus-7.040/static/WOFF2/LibertinusSerif-Regular.woff2)}@font-face{font-family:'Libertinus Sans';src:url(https://frezcirno.github.io/static/Libertinus-7.040/static/WOFF2/LibertinusSans-Regular.woff2)}@font-face{font-family:'Libertinus Math';src:url(https://frezcirno.github.io/static/Libertinus-7.040/static/WOFF2/LibertinusMath-Regular.woff2)}</style><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Frezcirno的博客</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">(主要是笔记)</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">57</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">30</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">131</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container"><div class="algolia-stats"><hr></div><div class="algolia-hits"></div><div class="algolia-pagination"></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#leetcode"><span class="nav-text">Leetcode</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%82%E9%A1%B9"><span class="nav-text">杂项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%BA%E5%8A%9B%E9%A2%98"><span class="nav-text">智力题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80"><span class="nav-text">计算机基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-text">数据结构 ✅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%97%E6%B3%95"><span class="nav-text">算法 ❓</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-text">体系结构 ❓</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-text">操作系统 ✅</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#oop-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-text">OOP &amp; 设计模式 ❓</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="nav-text">计算机网络 ❓</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95"><span class="nav-text">软件测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86"><span class="nav-text">编译原理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%AD%E8%A8%80"><span class="nav-text">语言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#java"><span class="nav-text">Java ❓</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cc"><span class="nav-text">C&#x2F;C++ ❓</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#golang"><span class="nav-text">Golang</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#javascript"><span class="nav-text">JavaScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rust"><span class="nav-text">Rust ❓</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux"><span class="nav-text">Linux</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mysql"><span class="nav-text">MySQL ❓</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#redis"><span class="nav-text">Redis ✅</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nginx"><span class="nav-text">Nginx</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF"><span class="nav-text">前端技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF"><span class="nav-text">后端技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-text">中间件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97"><span class="nav-text">消息队列</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F"><span class="nav-text">分布式系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%A7%E6%95%B0%E6%8D%AE"><span class="nav-text">大数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1"><span class="nav-text">微服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%82%A8"><span class="nav-text">存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%85%E6%A0%B8"><span class="nav-text">数据库内核</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2"><span class="nav-text">搜索</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E5%AF%86%E7%A0%81%E5%AD%A6"><span class="nav-text">离散数学 &amp; 密码学</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%90%E7%A7%81%E8%AE%A1%E7%AE%97"><span class="nav-text">隐私计算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E5%85%A8"><span class="nav-text">安全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%91%E8%AE%A1%E7%AE%97-%E8%99%9A%E6%8B%9F%E5%8C%96"><span class="nav-text">云计算 &amp; 虚拟化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8"><span class="nav-text">容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9F%B3%E8%A7%86%E9%A2%91"><span class="nav-text">音视频</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%B2%E6%9F%93%E5%BC%95%E6%93%8E"><span class="nav-text">渲染引擎</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0"><span class="nav-text">机器学习 &amp; 深度学习</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="frezcirno" src="https://frezcirno.github.io/static/avatar.jpg"><p class="site-author-name" itemprop="name">frezcirno</p><div class="site-description" itemprop="description">编程爱好者</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">131</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">57</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/frezcirno" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;frezcirno" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:2277861660@qq.com" title="E-Mail → mailto:2277861660@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/2024/04/07/interview/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://frezcirno.github.io/static/avatar.jpg"><meta itemprop="name" content="frezcirno"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Frezcirno的博客"><meta itemprop="description" content="编程爱好者"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="暑期实习 - 面试准备 | Frezcirno的博客"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">暑期实习 - 面试准备</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2024-04-07 21:04:23" itemprop="dateCreated datePublished" datetime="2024-04-07T21:04:23+08:00">2024-04-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/interview/" itemprop="url" rel="index"><span itemprop="name">interview</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-break"></span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>12k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>11 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="leetcode">Leetcode</h2><ul><li>链表 ✅</li><li>dp ✅</li><li>排列组合 ❓</li><li>大数模运算 ❓</li><li>图算法 ❓</li><li>数论 ❓</li><li>字符串 ❓</li></ul><h2 id="杂项">杂项</h2><ul><li>自我介绍 ✅</li><li>开放性问题<ul><li>项目中遇到的困难问题</li><li>最近关注的新技术</li><li>最近读了什么书<ul><li>高性能MySQL</li><li>设计数据密集型应用 DDIA</li><li>大规模并行处理器程序设计</li></ul></li><li>还在面其他的什么公司没</li><li>职业规划</li><li>优点<ul><li>实事求是</li></ul></li><li>缺点<ul><li>i人 有时喜欢自闭</li></ul></li><li>印象最深的事情<ul><li></li></ul></li><li>烦恼<ul><li>有点i</li></ul></li><li>最大的挫折<ul><li>论文被拒</li></ul></li><li>朋友评价<ul><li>有责任感</li><li>能力强</li><li>热心 乐于助人</li><li>有点i</li></ul></li><li>激发<ul><li>挑战</li><li>成就</li></ul></li><li>动机<ul><li>发挥特长 收获满足</li></ul></li></ul></li><li>什么时间可以入职<ul><li>25.3 毕业</li><li>6月份~毕业</li><li>杭州!</li></ul></li><li>反问问题<ul><li>面试表现如何</li><li>还需要加强哪些方面</li><li>实习生培养</li><li>对于实习生的期望</li><li>转正率有多少 (一般不回答)</li></ul></li></ul><h2 id="智力题">智力题</h2><ul><li>高楼扔鸡蛋</li><li>老鼠喝毒药</li><li>海盗分金</li><li>博弈论<ul><li>两个人轮流拿1或2或3个的石头，怎么能保证拿到最后一个</li></ul></li></ul><h2 id="计算机基础">计算机基础</h2><h3 id="数据结构">数据结构 ✅</h3><ul><li>哈希表<ul><li>冲突解决<ul><li>开链法<ul><li>链表</li><li>JDK&gt;=8 红黑树</li></ul></li><li>开放寻址<ul><li>线性探测法</li><li>二次探测法</li></ul></li><li>再哈希</li></ul></li><li>扩缩容<ul><li>负载因子 = 元素个数 / 桶个数<ul><li>JDK默认 &gt;0.75 扩容</li><li>Redis &lt;0.1 缩容</li></ul></li><li>Redis - 渐进式Rehash<ul><li>防止扩容时key过多导致卡顿</li><li>懒迁移</li></ul></li><li>HashMap 一次性完成</li></ul></li></ul></li><li>AVL</li><li>Rb-tree</li><li>B树 B+树<ul><li>+节点密度大, 3层能存2kw数据, 需要的IO少</li><li>-节点分裂合并复杂</li><li>使用场景<ul><li>MySQL索引</li></ul></li></ul></li><li>SkipList<ul><li>查找,插入 O(logn)</li><li>+编写简单</li><li>+插入删除更简单</li><li>-2kw需要24层, 查询需要的跳转/IO次数多</li><li>使用场景<ul><li>Redis</li><li>RocksDB</li><li>Lucene &amp; ElasticSearch</li></ul></li></ul></li><li>堆</li></ul><h3 id="算法">算法 ❓</h3><ul><li>排序算法<ul><li>选择排序</li><li>插入排序 (打牌) 稳</li><li>冒泡排序 稳</li><li>快速排序</li><li>归并排序 稳</li><li>桶排序</li><li>堆排序</li><li>基数排序 稳</li><li>希尔排序</li><li>稳定 &amp; 不稳定</li><li>STL -&gt; timsort</li><li>Java -&gt;</li></ul></li></ul><p>排序方法 平均 好 坏 空间 稳定性 插入排序 n² n n² O(1) 稳 希尔排序 n² n n² O(1)<br>选择排序 n² n² n² O(1)<br>冒泡排序 n² n n² O(1) 稳 堆排序 nlogn nlogn nlogn O(1)<br>快速排序 nlogn nlogn n² nlogn<br>归并排序 nlogn nlogn nlogn n 稳 基数排序 O(d(r+n)) O(d(n+rd)) O(d(r+n)) O(rd+n) 稳</p><ul><li>布隆过滤器<ul><li>key -&gt; hash到多个key</li><li>快速判断元素是否存在于某个集合里面</li></ul></li></ul><h3 id="体系结构">体系结构 ❓</h3><ul><li>MMU<ul><li>位于CPU芯片内部</li><li>将CPU请求的虚拟地址翻译成物理地址</li><li>TLB<ul><li>缓存了当前进程使用的页表项(PTE)</li><li>在MMU旁边 被MMU使用</li></ul></li></ul></li><li>CPU Cache<ul><li>速度<ul><li>L1: 1ns</li><li>L2: 4ns</li><li>Memory: 100ns</li></ul></li><li>拓扑<ul><li>Write Through: 写内存同时写Cache</li><li>Write Back: 写Cache, 异步写内存</li></ul></li><li>多核缓存一致性<ul><li>MESI协议 ❓</li><li>MOESI协议 ❓</li></ul></li></ul></li><li>内存栅栏 ❓</li><li>NUMA<ul><li>UMA 多核对称</li><li>NUMA 多核不对称</li></ul></li></ul><h3 id="操作系统">操作系统 ✅</h3><ul><li>Socket</li><li>文件系统</li><li>Shell命令 ✅</li><li>CPU管理<ul><li>进程 线程 协程<ul><li>进程<ul><li>资源分配单位</li><li>有自己的地址空间 堆 PCB 页表 文件表 信号处理</li></ul></li><li>线程<ul><li>执行和调度单位</li><li>有自己的栈 寄存器</li></ul></li><li>协程<ul><li>用户态模拟的线程</li><li>程序自己控制切换</li></ul></li></ul></li><li>进程状态<ul><li>R: Running 可被调度</li><li>S: Sleeping 等待中 可以被信号等中断</li><li>D: Sleeping 系统调用中 不可被中断</li><li>T: Stopped 收到了SIGSTOP/SIGCONT继续</li><li>Z: Zombies 进程已结束 但在等待父进程读取状态</li><li>X: Dead 已经退出</li></ul></li><li>孤儿进程: 父进程退出</li><li>进程文件: lsof, /proc/fd/fd</li><li>调度算法<ul><li>FCFS</li><li>SPF</li><li>RR</li><li>多级队列</li></ul></li><li>进线程切换<ul><li>上下文切换</li><li>特权级切换</li><li>页表切换<ul><li>刷新TLB</li></ul></li></ul></li><li>进程间通信<ul><li>管道/FIFO</li><li>信号</li><li>uds</li><li>共享内存 shm{get,at}()</li><li>消息队列 msg{get,snd,rcv}()</li><li>信号量 sem{init,post,wait}()</li></ul></li></ul></li><li>锁<ul><li>mutex</li><li>semaphore</li><li>原子变量</li><li>条件变量</li><li>volatile</li><li>CAS<ul><li>ABA问题</li></ul></li><li>死锁</li></ul></li><li>内存管理<ul><li>为什么需要段页<ul><li>-如果连续分配内存会导致碎片</li></ul></li><li>段式内存管理<ul><li>段表 段权限</li><li>-外碎片</li></ul></li><li>页式内存管理 x86-64<ul><li>4k固定大小 页权限</li><li>+缓解外碎片 提高内存使用效率</li><li>-内碎片</li><li>缺页中断</li><li>换页算法<ul><li>LRU</li><li>LFU</li><li>FIFO</li></ul></li></ul></li><li>段页结合<ul><li>段表+页号+偏移</li><li>-&gt; 页表+页号+偏移</li><li>-&gt; 地址</li></ul></li><li>Linux实际上跳过段机制</li></ul></li></ul><h3 id="oop-设计模式">OOP &amp; 设计模式 ❓</h3><ul><li>封装 继承 多态</li><li>继承的缺点<ul><li>不够灵活 随着项目发展 不利于重构</li><li>会有菱形继承问题</li><li>golang Rust等很多语言去掉继承</li></ul></li><li>重载</li><li>工厂模式</li><li>单例模式</li><li>Builder模式</li><li>代理模式</li><li>适配器模式</li></ul><h3 id="计算机网络">计算机网络 ❓</h3><ul><li>OSI七层<ul><li>L7 应用层</li><li>L6 表示层</li><li>L5 会话层</li><li>L4 传输层</li><li>L3 网络层</li><li>L2 数据链路层</li><li>L1 物理层</li></ul></li><li>OSI五层</li><li>交换机 路由器</li><li>常见的网络协议<ul><li>MAC</li><li>TCP/UDP</li><li>SSH</li><li>FTP</li><li>ARP</li></ul></li><li>IP协议 网络层<ul><li>IP头 20字节 源ip 目标ip</li><li>ARP<ul><li>广播 ARP 请求 询问</li><li>ARP 欺骗</li></ul></li><li>ICMP ping</li><li>DHCP</li><li>NAT</li></ul></li><li>TCP协议 传输层<ul><li>可靠 点对点 字节流 面向连接 20字节</li><li>源port 目标port seq ack 长度 标志</li><li>可靠性保证 ❓<ul><li>序列号 确认机制</li><li>超时重传</li><li>...</li><li>握手流程<ul><li>第二次握手重试</li></ul></li><li>挥手流程<ul><li>主动方 TIME_WAIT 等待2MSL ❓<ul><li>保证对端正确断开</li><li>保证本次连接所有报文都过期 不影响下次连接</li></ul></li></ul></li><li>保活机制 (Linux SO_KEEPALIVE) 非标准 ❓</li></ul></li><li>流量控制 ❓<ul><li>侧重按照接收者的接收能力来发送数据</li><li>发送 接收 滑动窗口<ul><li>Selective ACK 额外回复收到了哪些段数据</li><li>Duplicate ACK 额外回复哪些段数据重复接收</li><li>Nagle算法 接收窗口太小时 累计一定数据后(MSS)再发送<ul><li>-实时性变差</li><li>TCP_NODELAY 关闭</li></ul></li><li>延迟ACK 组合多个ACK为一个<ul><li>-实时性变差</li><li>TCP_QUICKACK 关闭</li></ul></li></ul></li></ul></li><li>拥塞控制 ❓<ul><li>侧重避免网络出现负载过大的情况</li><li>慢启动 指数增加</li><li>拥塞避免 线性增加</li><li>拥塞发生 超时重传 RTO指数倍增 保险 回到起点</li><li>快速恢复 快速重传 收到了3ACK 没超时但是重传</li><li>BBR拥塞控制算法 ❓</li></ul></li><li>调优选项<ul><li>TCP Fast Open(TFO)<ul><li>第二次连接 通过TFO cookie省略一个RTT</li></ul></li><li>tcp_tw_recycle<ul><li>TIME_WAIT状态快速回收</li></ul></li><li>tcp_tw_reuse<ul><li>复用TIME_WAIT状态的连接</li><li>依赖 tcp_timestamps 启用时间戳</li></ul></li></ul></li><li>缺陷<ul><li>-队头阻塞: 中间丢包导致后面阻塞</li><li>-不支持网络迁移</li></ul></li><li>网络攻击<ul><li>syn flood<ul><li>服务器只收到SYN -&gt; SYN_RCVD 半连接</li><li>增大半连接队列</li><li>syn cookie</li></ul></li></ul></li><li>应用问题<ul><li>对端断电 保持ESTABLISHED状态<ul><li>对端退出 FIN</li><li>对端重启 RST</li></ul></li><li>大量SYN_RCVD (等待对方第三次握手)<ul><li>缩短超时 (SYN Timeout) 时间</li><li>增大半连接队列</li><li>SYN cookie 技术<ul><li>自己不再分配内存记录 而是将信息保存到第二次握手回复中</li><li>等第三次握手再获取这个信息</li></ul></li></ul></li><li>大量CLOSE_WAIT (等待我方close())<ul><li>对端shutdown 自己没有shutdown</li></ul></li><li>大量TIME_WAIT (先关闭方 等待第四次的ack彻底过期)<ul><li>确保应用层使用长连接 Connection: Keep-Alive<ul><li>设置长连接超时时间</li></ul></li><li>使用 tcp_tw_reuse 和 timestamp</li><li>增大 tcp_max_tw_buckets 默认18000</li><li>SO_LINGER: 用 RST 代替 FIN, 不安全</li></ul></li></ul></li></ul></li><li>QUIC协议 传输层<ul><li>基于UDP实现可靠传输 旨在取代TCP</li><li>+单连接传输多个流 避免队头阻塞</li><li>+握手过程集成TLS 节约连接设置的开销</li><li>+包含连接ID 支持底层网络切换</li></ul></li><li>UDP协议 传输层<ul><li>无状态 面向报文 8字节</li></ul></li><li>HTTP协议<ul><li>0.9</li><li>1.0</li><li>1.1<ul><li>Keep-Alive 默认开启<ul><li>Connection: close 服务器回完resp就close<ul><li>容易导致TIME_WAIT</li></ul></li></ul></li><li>流水线<ul><li>-HTTP队头阻塞</li></ul></li></ul></li><li>2.0 ❓<ul><li>http请求头压缩编码</li><li>二进制帧 请求头可以二进制</li><li>引入流 可以单连接传输多个流</li><li>服务器推送</li><li>-TCP队头阻塞</li></ul></li><li>3.0 ❓<ul><li>底层TCP-&gt;QUIC</li></ul></li><li>报文格式<ul><li>GET / HTTP/1.1: xxx.com</li><li>HTTP/1.1 200 OK-Type: application/json</li></ul></li><li>状态码<ul><li>101 Switch</li><li>200 OK</li><li>301 Moved Permanently</li><li>302 Found</li><li>400 Bad Request</li><li>403 Forbidden</li><li>404 Not Found</li><li>500 Server Error</li><li>502 Bad Gateway</li></ul></li><li>请求方法</li><li>请求头</li><li>缓存控制</li></ul></li><li>DNS协议 应用层<ul><li>over UDP<ul><li>DOH DOT DOQ</li></ul></li><li>本地域名服务器<ul><li>递归解析</li></ul></li><li>根域名服务器<ul><li>DNS 劫持</li><li>DNS 放大<ul><li>假装受害者发起大量DNS查询请求</li></ul></li><li>DNS flood</li></ul></li></ul></li><li>SSL/TLS协议 应用层和传输层之间/会话层<ul><li>建立流程 四次握手 ❓<ul><li>ClientHello - ServerHello</li><li>KeyExchange - Finished</li></ul></li><li>密钥协商</li><li>对称加密</li><li>证书机制</li><li>中间人攻击</li></ul></li><li>RPC<ul><li>一种调用方式</li><li>没有http的条条框框 效率更高</li><li>可以定制 例如使用protobuf thrift</li><li>一般基于tcp实现 也有基于http2.0</li></ul></li><li>WebSocket<ul><li>HTTP长连接</li><li>HTTP长轮询</li></ul></li><li>扫码登录</li></ul><h3 id="软件测试">软件测试</h3><ul><li>单元测试框架<ul><li>CppUnit</li><li>GTest</li></ul></li><li>压测<ul><li>TCP压测 iperf3</li><li>HTTP压测 wrk</li></ul></li></ul><h3 id="编译原理">编译原理</h3><ul><li>编译器过程</li><li>C/C++编译过程</li></ul><h2 id="语言">语言</h2><h3 id="java">Java ❓</h3><ul><li>基本数据类型<ul><li>int vs Integer</li><li>自动拆箱</li><li>小数优化</li></ul></li><li>抽象类 接口</li><li>重载 重写</li><li>字符串处理</li><li>Collections ✅<ul><li>ArrayList<ul><li>x1.5扩容</li><li>线程安全版 -&gt; Vector</li></ul></li><li>LinkedList</li><li>Hash{Map,Set}<ul><li>x2扩容</li><li>get() ❓</li><li>put() ❓</li><li>线程安全版 -&gt; HashTable</li><li>线程安全版2 -&gt; ConcurrentHashMap</li><li>记录插入顺序 -&gt; LinkedHash{Map,Set}</li></ul></li><li>Tree{Map,Set}</li><li>Stack 线程安全</li><li>BlockingQueue 线程安全</li></ul></li><li>Comparable</li><li>面向对象特性<ul><li>Object类<ul><li>析构 finalize()</li><li>复制 clone()</li><li>容器 hashCode() equals()<ul><li>equals() 默认实现比较引用是否相同</li></ul></li><li>反射 getClass()</li><li>字符串 toString()</li><li>同步相关 wait() notify() notifyAll()<ul><li>wait() 让持有此对象的监视器的线程等待</li><li>notify() 唤醒</li></ul></li></ul></li></ul></li><li>并发 ❓<ul><li>ThreadLocal</li><li>Lock</li><li>synchronized<ul><li>修饰方法</li><li>修饰代码块</li><li>持有对象的锁</li></ul></li><li>volatile</li><li>JUC</li><li>线程</li><li>线程池<ul><li>创建线程开销大</li><li>状态<ul><li>RUNNING</li><li>SHUTDOWN</li><li>STOP</li><li>TERMINATED</li></ul></li><li>参数调优<ul><li>CPU密集: n+1</li><li>IO密集: 2n</li></ul></li></ul></li></ul></li><li>反射</li><li>JVM ❓<ul><li>内存结构 ❓<ul><li>堆结构</li></ul></li><li>垃圾回收GC ❓<ul><li>CMS<ul><li>Minor GC</li><li>Full GC</li></ul></li><li>ZGC</li></ul></li></ul></li><li>JDBC</li></ul><h3 id="cc">C/C++ ❓</h3><ul><li>malloc<ul><li>sbrk() mmap()</li><li>ptmalloc glibc</li><li>jemalloc Facebook</li><li>tcmalloc Google<ul><li>thread cache</li></ul></li></ul></li><li>编译<ul><li>工具<ul><li>cmake</li><li>meson</li><li>makefile/ninja</li><li>gradle</li></ul></li></ul></li><li>编译和链接<ul><li>变量位置<ul><li>局部变量 栈上</li><li>全局 静态变量 零初始化bss 否则data</li></ul></li></ul></li><li>STL容器<ul><li>vector<ul><li>扩容 VSx1.5 GCCx2<ul><li>x2会导致重新分配</li></ul></li></ul></li><li>map/set</li><li>unordered_map/set</li><li>list</li></ul></li><li>引用</li><li>OOP<ul><li>类<ul><li>构造 析构</li><li>复制 移动</li><li>类 vs 结构体<ul><li>类默认private 结构体默认public</li></ul></li><li>空类 1字节</li></ul></li><li>封装<ul><li>保护级别</li><li>friend</li></ul></li><li>继承<ul><li>保护级别 区别</li><li>虚继承<ul><li>防止菱形继承</li><li>使得虚函数表更加复杂 且内存布局变化</li></ul></li></ul></li><li>多态<ul><li>虚函数<ul><li>构造函数不能是虚函数</li><li>基类析构函数必须是虚函数</li><li>虚函数实现<ul><li>抽象类<ul><li>有虚函数</li><li>不可以被new</li></ul></li><li>虚函数表<ul><li>每个类一个 编译器分配</li><li>每个对象有一个隐式的虚表指针成员</li></ul></li></ul></li></ul></li></ul></li></ul></li><li>C++11<ul><li>move() forward()</li></ul></li><li>C++20 协程</li><li>四种cast<ul><li>static_cast</li><li>const_cast</li><li>reinterpret_cast</li><li>dynamic_cast</li></ul></li><li>异常<ul><li>构造函数抛异常</li><li>析构函数抛异常</li><li>new抛异常</li></ul></li><li>智能指针<ul><li>unique_ptr<ul><li>内部: 对象指针</li></ul></li><li>shared_ptr &amp; weak_ptr<ul><li>内部: 对象指针, &amp;use_count, &amp;weak_count, (可选)Mutex</li><li>多个共享指针持有同一个控制块</li><li>make_shared 创建智能指针</li><li>: public shared_from_this<ul><li>内部: 一个 weak_ptr(this)</li></ul></li></ul></li><li>auto_ptr</li><li>实现<ul><li>原子变量</li><li>引用计数</li></ul></li></ul></li><li>并发<ul><li>原子操作<ul><li>i++ 不是原子</li></ul></li><li>volatile<ul><li>标记变量可能被未知的因素更改</li><li>避免激进的优化 每次都去读内存</li></ul></li></ul></li><li>malloc</li></ul><h3 id="golang">Golang</h3><ul><li>GMP模型<ul><li>G 协程</li><li>M OS线程</li><li>P CPU核</li></ul></li><li>避免共享内存 使用通信</li><li>defer语法</li></ul><h3 id="javascript">JavaScript</h3><h3 id="rust">Rust ❓</h3><ul><li>OwnerShip</li><li>Lifetime</li><li>泛型</li><li>trait</li><li>Tokio异步<ul><li>异步任务</li></ul></li><li>比c/c++的优势<ul><li>内存安全</li></ul></li><li>Unsafe<ul><li>有时候安全更重要</li></ul></li></ul><h2 id="linux">Linux</h2><ul><li>文件<ul><li>一切皆文件</li><li>类型<ul><li>Regular</li><li>Directory</li><li>Link</li><li>Char Dev</li><li>Block Dev</li><li>Socket</li><li>Pipe</li></ul></li><li>inode<ul><li>内容<ul><li>大小</li><li>权限</li><li>所有者</li><li>三个时间</li><li>链接数</li></ul></li></ul></li><li>打开文件: path-&gt;inode-&gt;block</li></ul></li><li>锁<ul><li>自旋锁 spinlock<ul><li>-饥饿</li></ul></li><li>Rwlock</li><li>seqlock</li><li>RCU</li><li>futex ❓</li></ul></li><li>ELF<ul><li>结构<ul><li>ELF头</li><li>Program HT程序头</li><li>Section HT节数组</li></ul></li><li>静态链接<ul><li></li></ul></li><li>动态链接<ul><li>链接<ul><li>加载libc.so</li><li></li></ul></li><li>装载<ul><li>dl{open,sym,close}()</li></ul></li></ul></li></ul></li><li>PIE vs PIC</li><li>IO多路复用<ul><li>select</li><li>poll</li><li>epoll</li></ul></li><li>零拷贝<ul><li>内核态only 减少切换次数: sendfile, splice</li><li>利用 DMA</li><li>COW</li><li>用户态IO: SPDK, DPDK</li></ul></li><li>Coredump</li><li>链接与库<ul><li>静态链接</li><li>动态链接</li><li>装载</li></ul></li><li>运维命令<ul><li>负载<ul><li>uptime</li><li>vmstat</li><li>top</li></ul></li><li>网络<ul><li>netstat</li><li>ss</li></ul></li><li>内存<ul><li>sar</li></ul></li></ul></li><li>缓存 ❓<ul><li>kswapd</li><li>硬盘 Page Cache</li><li>File Cache</li></ul></li><li>I/O 模型<ul><li>Reactor 对IO事件反应<ul><li>单线程</li><li>多线程</li></ul></li><li>Proactor</li></ul></li><li>UDS vs TCP</li><li>connect() 系统调用实现</li><li>上下文切换<ul><li>X86 Gate</li></ul></li><li>硬件中断<ul><li>顶半部 底半部</li><li>软件中断<ul><li>softirq</li><li>tasklet</li><li>workqueue</li></ul></li></ul></li><li>CPU调度<ul><li>时机<ul><li>时钟中断 时间片用完</li><li>系统调用</li></ul></li></ul></li><li>tcpdump<ul><li>eBPF<ul><li>嵌入内核的虚拟机</li><li>Hook内核API</li></ul></li></ul></li></ul><h2 id="mysql">MySQL ❓</h2><ul><li>SQL 基本<ul><li>语句</li><li>SQL注入<ul><li>PreparedStatement</li><li>WAF过滤</li></ul></li></ul></li><li>数据类型</li><li>范式 ❓<ul><li>第一范式 列不可分</li><li>第二范式 非主属性完全函数依赖于主键</li><li>第三范式 非主属性既不部分依赖于主键也不传递依赖于主键</li><li>BC范式 不允许主键的一部分被另一部分或其它部分决定</li></ul></li><li>引擎<ul><li>MyISAM<ul><li>+插入, 查询性能</li><li>-只有表锁</li><li>-不支持外键</li><li>-不支持事务</li><li>适合非事务型负载 OLAP?</li></ul></li><li>InnoDB<ul><li>+行锁</li><li>+聚簇索引</li><li>+支持外键</li><li>+支持事务</li></ul></li><li>底层存储<ul><li>MyISAM<ul><li>数据.myd和索引.myi分开存储</li><li>数据按插入顺序存储</li><li>索引B+树叶子节点存数据行号 -&gt; 没有聚簇索引</li></ul></li><li>InnoDB<ul><li>数据和索引保存在一起</li><li>主索引B+树叶子节点存数据本身 -&gt; 聚簇索引</li><li>需要一个主key 没有会自己创建</li></ul></li></ul></li><li>区别</li></ul></li><li>索引 ❓❓<ul><li>优缺点<ul><li>+加快速度</li><li>-空间开销</li><li>-维护索引开销</li></ul></li><li>索引类型<ul><li>hash索引<ul><li>-范围查询</li><li>-模糊查询</li><li>-联合索引 最左匹配</li></ul></li><li>Btree索引</li><li>Fulltext索引<ul><li>+查询文本中的关键字</li><li>模糊匹配<ul><li>like '%abc%' 场景</li></ul></li></ul></li><li>Rtree索引<ul><li>+地理数据范围查询</li></ul></li></ul></li><li>聚簇索引<ul><li>聚簇索引<ul><li>数据和索引放在一起存储 索引的叶子节点保存数据</li><li>相对的 其他索引叫做二级索引</li><li>举例 InnoDB</li></ul></li><li>非聚簇索引<ul><li>数据和索引分开存储 索引的叶子节点保存数据行号</li><li>举例 MyISAM</li></ul></li></ul></li><li>覆盖索引<ul><li>查询结果都包含在索引中</li><li>不需要回表</li></ul></li><li>最左匹配原则</li><li>索引失效的场景<ul><li>like '%abc' '%abc%'</li><li>使用了表达式/函数/UDF</li><li>包含隐式类型转换</li><li>非前缀匹配</li><li>OR单边索引</li></ul></li><li>索引使用原则<ul><li>经常查询的where条件</li><li>长串索引需要限定前缀长度 看区分度</li></ul></li></ul></li><li>优化<ul><li>查询慢<ul><li>缺少索引</li></ul></li><li>插入慢<ul><li>索引太多</li></ul></li><li>show_query_log 定位慢查询</li><li>explain<ul><li>"Using index" = 使用了覆盖索引</li><li>"type: ALL" = 全表扫描</li><li>"key: xxxx" = 使用了xxxx索引</li></ul></li><li>optimize table 碎片整理</li></ul></li><li>事务 ✅<ul><li>概念</li><li>ACID ✅<ul><li>原子性</li><li>一致性</li><li>隔离性</li><li>持久性</li></ul></li><li>问题 ❓<ul><li>脏读</li><li>不可重复读: 在同一个事务中，多次读取同一数据返回的结果有所不同</li><li>幻读: 一个事务读取了另一个事务插入的新纪录</li><li>丢失修改</li></ul></li><li>MySQL 如何保证 ACID ❓❓<ul><li>保证原子性A<ul><li>Undo log</li></ul></li><li>保证隔离性I<ul><li>锁 + MVCC机制</li><li>SQL标准隔离级别 ✅<ul><li>RU读未提交 (问题: 脏读, 不可重复读, 幻读)</li><li>RC读已提交 (问题: 不可重复读, 幻读)<ul><li>事务开始创建一个Read View<ul><li>+解决不可重复读, 幻读</li></ul></li></ul></li><li>RR可重复读 (问题: 幻读)<ul><li>快照读<ul><li>MVCC机制<ul><li>事务开始创建一个Read View</li><li>版本号</li></ul></li></ul></li><li>当前读<ul><li>记录锁</li><li>间隙锁 防止幻读</li></ul></li></ul></li><li>S序列化 (完美)<ul><li>-性能很差</li></ul></li></ul></li><li>锁<ul><li>记录锁(行锁) 锁定行 (3)</li><li>间隙锁 锁定一个区间 (3,5)</li><li>临界锁 (3,5]</li><li>插入意向锁</li></ul></li></ul></li><li>保证持久性D<ul><li>WAL 先写日志</li><li>Redo log<ul><li>Innodb 日志</li><li>用于防止 Buffer Pool 因为异步落盘 数据丢失</li><li>两个文件循环写 为了性能</li><li>格式<ul><li>数据页位置+修改内容</li></ul></li></ul></li><li>Binlog<ul><li>Server层日志</li><li>三种格式<ul><li>STATEMENT SQL语句</li><li>ROW 最终数据</li><li>MIXED</li></ul></li><li>保存开机后全量日志</li><li>用于备份恢复 主从同步</li></ul></li></ul></li><li>保证一致性C<ul><li>前三个加起来</li></ul></li></ul></li></ul></li><li>锁 ❓<ul><li>全局锁</li><li>表锁<ul><li>MyISAM默认</li></ul></li><li>行锁<ul><li>MyISAM没有</li><li>InnoDB默认</li><li>可能导致死锁</li></ul></li><li>页面锁</li><li>乐观锁 &amp; 悲观锁<ul><li>乐观锁: 先更新再检查是否有其他事务修改<ul><li>举例 共享文档 Git</li></ul></li><li>悲观锁: 先加锁再更新</li></ul></li></ul></li><li>MVCC 多版本并发控制<ul><li>提高并发性能</li><li>当前读 读最新版本</li><li>快照读</li></ul></li><li>主从同步<ul><li>目的 实现读写分离</li><li>同步模式<ul><li>异步复制 (默认)</li><li>全同步复制</li><li>半同步复制</li></ul></li><li>配置<ul><li>主库 cnf 设置 server-id log-bin(&gt;=8默认开启)</li><li>创建同步账户</li><li>SHOW MASTER STATUS;</li><li>从库执行SQL<ul><li>START SLAVE;</li><li>SHOW SLAVE STATUS</li><li>STOP SLAVE SQL_THREAD;</li></ul></li><li>从库升级成主库<ul><li>RESET MASTER;</li><li>CHANGE MASTER TO</li><li>START SLAVE;</li></ul></li></ul></li><li>主库在事务提交时 同步binlog到从库</li><li>从库保存到relay log 重放<ul><li>从库重放是SQL Thread单线程</li></ul></li><li>主从延迟<ul><li>避免大事务</li><li>从库自身读压力太大 -&gt; 增加从库数量分散压力</li><li>设置 slave_parallel_workers 并行复制线程数 slave-parallel-type 并行复制策略</li><li>semi-sync 半同步复制</li></ul></li></ul></li><li>分库分表<ul><li>单表行数超 500 万行或者单表容量超过 2GB</li><li>垂直分库 按业务类型</li><li>垂直分表 按字段</li><li>水平拆分<ul><li>ID取模</li></ul></li><li>MyCat<ul><li>MySQL Stub</li></ul></li><li>ShardingSphere<ul><li>JDBC Stub</li></ul></li></ul></li></ul><h2 id="redis">Redis ✅</h2><ul><li>特点<ul><li>性能</li><li>功能</li></ul></li><li>单线程</li><li>数据类型<ul><li>string</li><li>list</li><li>hash</li><li>set</li><li>zset</li></ul></li><li>底层存储<ul><li>int</li><li>sds</li><li>quicklist</li><li>压缩列表/listpack</li><li>skiplist<ul><li>SkipList vs B+tree<ul><li>实现简单</li><li>占用内存少</li><li>插入删除性能更好，没有旋转平衡的开销</li></ul></li></ul></li><li>hashtable<ul><li>MurmurHash2</li></ul></li></ul></li><li>持久化<ul><li>RDB<ul><li>压缩</li></ul></li><li>AOF 增量日志<ul><li>会定期rewrite</li></ul></li><li>混合</li></ul></li><li>Pub/Sub机制</li><li>Key过期机制<ul><li>惰性删除</li><li>定期删除</li></ul></li><li>内存淘汰<ul><li>noeviction</li><li>volatile-random</li><li>volatile-ttl</li><li>volatile-lru 默认</li><li>volatile-lfu</li><li>allkeys-random</li><li>allkeys-lru</li><li>allkeys-lfu</li><li>LFU 更好, LRU 容易受缓存污染影响</li></ul></li><li>实现事务<ul><li>Redis事务</li><li>Lua脚本</li></ul></li><li>发布订阅</li><li>Redis集群<ul><li>主从<ul><li>主库读写, 从库只读</li><li>Gossip</li><li>同步机制<ul><li>全量复制</li><li>基于长连接的命令传播</li><li>增量复制</li></ul></li></ul></li><li>主从+哨兵<ul><li>一个Raft集群 负责维护Redis集群的可用性<ul><li>监控集群是否正常</li><li>自动故障转移</li><li>提供配置</li><li>通知客户端</li></ul></li><li>当&gt;=quorum个哨兵认为主库下线 则开始换主<ul><li>选择数据最完整的从库作为主库</li></ul></li><li>哨兵之间利用Raft算法选主</li></ul></li><li>Cluster模式<ul><li>去中心化 不区分主从 每个节点存储不同的分片<ul><li>没有使用一致性hash 而是使用crc16(key)/16384</li><li>存在迁出导入开销</li></ul></li><li>MOVED 重定向用户请求</li></ul></li><li>脑裂问题<ul><li>主节点虚假故障 丢失数据</li><li>可以用min-slaves缓解 但是不能彻底解决</li><li>换用强一致性的Zookeeper</li></ul></li></ul></li><li>使用问题<ul><li>大key</li><li>缓存击穿 热点key过期<ul><li>设置热点key永不过期</li></ul></li><li>缓存雪崩 大量key同时失效<ul><li>随机过期时间或永不过期</li><li>热点数据分散</li></ul></li><li>缓存穿透 热点key不存在<ul><li>设置key-null</li></ul></li></ul></li><li>缓存一致性 (分布式一致性问题)<ul><li>缓存策略<ul><li>Cache Aside: 读者读db时顺便设置缓存<ul><li>-需要缓存设置过期时间</li><li>-过期时间内可能是旧的值</li></ul></li><li>Read Through:</li><li>Write Through: 只写db, 异步推送到缓存</li><li>Write Back: 只更新缓存, 异步写入db</li></ul></li><li>同步机制<ul><li>更新派<ul><li>🔃缓存, 🔃db<ul><li>不好 缓存可能被另一个进程刷新为旧值</li></ul></li><li>🔃db, 🔃缓存<ul><li>不好 更新缓存需要计算 浪费系统资源</li></ul></li></ul></li><li>删除派<ul><li>🆑️缓存, 🔃db<ul><li>不好 缓存可能被另一个进程刷新为旧值</li><li>延迟双删可以: 🆑️缓存, 🔃db, 延迟, 🆑️缓存</li></ul></li><li>🔃db, 🆑️缓存<ul><li>好 第二步需要重试保证</li></ul></li></ul></li></ul></li><li>通用技巧<ul><li>过期时间</li><li>终极方案 分布式锁</li><li>失败重试<ul><li>单独线程</li><li>MQ</li></ul></li><li>binlog订阅</li></ul></li></ul></li></ul><h2 id="nginx">Nginx</h2><ul><li>功能<ul><li>负载均衡<ul><li>轮询</li><li>加权轮询</li><li>随机</li><li>源地址(用户IP)哈希</li><li>最小连接数</li><li>插件<ul><li>fair (最快的)</li><li>URL(访问目标)哈希</li></ul></li></ul></li><li>反向代理</li></ul></li><li>实现<ul><li>主从Reactor模式</li></ul></li></ul><h2 id="前端技术">前端技术</h2><ul><li>Session &amp; Cookie &amp; Token<ul><li>Session 服务端用于保存每个连接用户状态的对象</li><li>Cookie<ul><li>结构 name, domain, path, secure</li><li>生命周期<ul><li>没设置过期时间 =&gt; 会话Cookie 浏览器关闭即消失</li><li>设置过期时间 保存在硬盘上</li></ul></li></ul></li></ul></li><li>LocalStorage<ul><li>生命周期 不会过期</li><li>大小 一般5M</li></ul></li><li>SessionStorage<ul><li>生命周期 浏览器关闭即消失</li></ul></li><li>浏览器加载资源的过程</li><li>浏览器输入URL之后的过程</li></ul><h2 id="后端技术">后端技术</h2><ul><li>缓存 -&gt; Redis</li><li>Spring<ul><li>AOP</li><li>IOC</li><li>循环依赖<ul><li>Bean互相依赖</li><li>三级缓存<ul><li>一级缓存为单例池 singletonObjects</li><li>二级缓存为早期曝光对象 earlySingletonObjects</li><li>三级缓存为早期曝光对象工厂 singletonFactories</li></ul></li></ul></li><li>Filter ❓</li></ul></li><li>MyBatis</li><li>高并发下库存超卖问题 ❓<ul><li>设置字段为无符号 依赖异常</li><li>使用悲观锁</li><li>Redis分布式锁<ul><li>事务 lua脚本</li><li>集群同步问题 RedLock</li></ul></li></ul></li><li>限流<ul><li>固定窗口/滑动窗口</li><li>QPS限流<ul><li>+简单</li><li>+可以改周期增大突发流量</li><li>-周期边界不平滑</li><li>-放过请求不均匀</li></ul></li><li>令牌桶<ul><li>+流量均匀</li><li>-第一个周期不平滑</li></ul></li><li>漏桶<ul><li>-出水速度恒定 瞬时大流量会被丢弃</li></ul></li></ul></li></ul><h2 id="中间件">中间件</h2><ul><li>缓存</li><li>消息队列</li><li>定时任务</li><li>日志采集</li></ul><h2 id="消息队列">消息队列</h2><ul><li>作用 异步削峰解耦 日志 消息系统</li><li>监控</li><li>怎么保证消息不丢失<ul><li>消费者反馈消息收到</li><li>数据持久化</li></ul></li><li>消息积压 ❓<ul><li>保存到硬盘上</li></ul></li><li>消息队列模型<ul><li>队列模型<ul><li>每个消费者一个队列</li><li>-不适合广播场景 (需要复制)</li></ul></li><li>发布-订阅模型<ul><li>消息有主题 消费者订阅主题 (Topic)</li><li>+支持广播场景</li><li>示例 Kafka RocketMQ</li></ul></li></ul></li><li>RabbitMQ ❓</li><li>Kafka<ul><li>流式数据处理平台 by Linkedin</li><li>适合离线和在线消息消费</li><li>组件<ul><li>Broker 中介人<ul><li>Leader 提供服务 与客户端交互</li><li>Follower 不提供服务 只与Leader同步</li></ul></li><li>ZooKeeper 元数据管理</li></ul></li><li>功能<ul><li>消息队列</li><li>消息持久化</li><li>消息流式处理</li></ul></li><li>消息分区 Partition &amp; 消费者组 Consumer Group<ul><li>Topic-Partition 一对多关系 目的是提高并行度</li><li>相对地 Consumer Group 对等的消费者集群 消费一整个topic</li><li>Partition会平均分布在所有Broker上</li><li>底层实现: append-only log file</li></ul></li><li>性能高<ul><li>Page Cache 缓存</li><li>磁盘顺序写</li><li>零拷贝</li><li>Pull 拉模式</li></ul></li><li>消费模式<ul><li>Push模式<ul><li>-容易挤爆消费者</li></ul></li><li>Pull模式<ul><li>-容易导致空轮询<ul><li>可以设置成阻塞收取</li></ul></li></ul></li></ul></li><li>确认机制<ul><li>0 无确认 完全异步</li><li>1 leader确认即可 (默认)</li><li>-1 leader和follower都确认</li></ul></li><li>主从同步 replica<ul><li></li></ul></li></ul></li></ul><h2 id="分布式系统">分布式系统</h2><ul><li>CAP理论 ✅<ul><li>C 强一致性</li><li>A 可用性</li><li>P 分区可用性</li><li>C+A:</li><li>C+P: Raft</li></ul></li><li>BASE理论 ✅<ul><li>BA 基本可用</li><li>S 软状态</li><li>E 最终一直性</li></ul></li><li>强一致性<ul><li>线性一致性 集群看起来和单个节点一样</li><li>顺序一致性 弱一点</li></ul></li><li>分布式共识算法 CP<ul><li>Paxos ❓<ul><li>三种身份 Proposers Acceptors Learners</li><li>-解决不了拜占庭问题</li></ul></li><li>Raft ❓<ul><li>关键点: 心跳同步log, 新log覆盖旧log, 选主过半数机制</li></ul></li><li>ZAB<ul><li>过半数ACK提交</li></ul></li></ul></li><li>分布式锁 ❓<ul><li>Redis setnx<ul><li>需设置过期时间 防止死锁</li><li>需设置独特value 防止被别人释放</li><li>锁提前释放 后台线程去续期锁 可以用Redission</li><li>Redis集群同步可能丢锁 使用Redlock</li></ul></li><li>ZooKeeper 临时节点<ul><li>写强一致性 读不是(顺序一致性)<ul><li>读之前sync()一下就是强一致</li></ul></li><li>+连接结束会自动释放</li><li>-如果进程卡住 心跳不及时 会导致提前释放</li></ul></li><li>Google Chubby (Paxos)</li></ul></li><li>一致性哈希<ul><li>防止节点扩容导致未知变化</li><li>Hash环</li><li>虚拟节点</li></ul></li><li>负载均衡算法<ul><li>RR</li><li>Weight RR</li><li>Random</li><li>Weight Random</li><li>Hash</li></ul></li><li>分布式ID<ul><li>雪花算法</li></ul></li><li>分布式事务<ul><li>两阶段提交 2PC ❓❓<ul><li>+原理简单，实现方便</li><li>-同步阻塞 即所偶参与的事务逻辑均处于阻塞状态。</li><li>-单点故障 协调者存在单点故障问题，如果协调者出现故障，参与者将一直处于锁定状态。</li><li>-脑裂问题 在阶段二中，如果只有部分参与者接受并执行了Commit请求，会导致节点数据不一致。</li></ul></li><li>三阶段提交 3PC ❓❓<ul><li>+降低了阻塞范围 在等待超时后，协调者或参与者会中断事务。</li><li>+避免单点故障 阶段3中协调者出现问题时，参与者会继续提交事务。</li><li>-脑裂问题</li></ul></li><li>TCC</li></ul></li><li>系统<ul><li>ZooKeeper ❓<ul><li>分布式注册中心 按照目录层级划分 可以监听节点</li><li>ZAB算法</li><li>最好奇数个节点</li></ul></li><li>Etcd<ul><li>强一致性</li></ul></li><li>Consul<ul><li></li></ul></li></ul></li><li>Hive ❓</li><li>分布式文件系统<ul><li>GFS ❓</li><li>HDFS ❓</li></ul></li><li>Hadoop ❓</li><li>表格存储<ul><li>Google BigTable ❓</li><li>HBase ❓</li></ul></li></ul><h2 id="大数据">大数据</h2><ul><li>Kafka -&gt; 消息队列</li><li>Spark</li><li>Lucene</li><li>海量数据处理问题<ul><li>离线Top n</li><li>在线Top n</li><li>通用技巧<ul><li>数据结构: 位图 平衡树 索引 Trie BloomFilter</li><li>分治 合并</li></ul></li></ul></li><li>MapReduce</li></ul><h2 id="微服务">微服务</h2><ul><li>RPC<ul><li>原理</li><li>框架</li></ul></li><li>Nacos 注册中心</li><li>Dubbo 微服务框架</li></ul><h2 id="存储">存储</h2><ul><li>块存储</li><li>文件存储</li><li>对象存储 ✅</li><li>快照机制<ul><li>COW<ul><li>-1次写变1读2写 写放大 性能低</li></ul></li><li>ROW (Redirect On Write)<ul><li>+不会有额外的写入</li><li>-有数据碎片</li></ul></li></ul></li></ul><h2 id="数据库内核">数据库内核</h2><ul><li>LSM-Tree ❓</li><li>LevelDB ❓</li><li>RocksDB ❓</li><li>MySQL</li><li>Buffer Pool<ul><li>文件系统缓存层</li></ul></li></ul><h2 id="搜索">搜索</h2><ul><li>粗排</li><li>精排</li><li>召回</li><li>算法</li></ul><h2 id="离散数学-密码学">离散数学 &amp; 密码学</h2><ul><li>格 理想</li><li>哈希算法<ul><li>MD5 SHA1 SHA256</li><li>MurmurHash3 Fnv1a</li></ul></li><li>对称加密<ul><li>DES 3DES AES</li></ul></li><li>非对称加密<ul><li>RSA<ul><li>-不支持前向保密</li><li>大质因数分解</li></ul></li><li>DSA<ul><li>大数离散对数</li></ul></li></ul></li><li>密钥交换<ul><li>Diffie-Hellman</li><li>EC Diffie-Hellman</li></ul></li></ul><h2 id="隐私计算">隐私计算</h2><ul><li>方法<ul><li>差分隐私 DP<ul><li>将原始数据淹没在噪音中, 使得无法得到原始数据</li></ul></li><li>混淆电路 GC</li><li>密钥分享 SS</li><li>同态加密 HE<ul><li>原理 先加密再运算</li><li>类型<ul><li>半同态加密 (Partially HE, PHE) 加密后只支持加法或乘法运算</li><li>全同态加密 (Fully HE, FHE)</li></ul></li><li>方法<ul><li>Pailier算法</li><li>复合剩余类问题 DCRA</li></ul></li><li>应用场景</li><li>工具<ul><li>Microsoft SEAL</li></ul></li></ul></li></ul></li><li>应用场景<ul><li>联合建模</li><li>联合统计</li><li>安全预测</li><li>隐匿查询</li><li>机构之间的联合计算</li></ul></li><li>安全两方计算 2PC<ul><li>工具<ul><li>Cheetah 猎豹 阿里安全</li></ul></li></ul></li><li>多方安全计算 MPC<ul><li>把多个参与方的数据放在一起计算出特定的结果 同时保证每一方信息的细节不被泄露 典型 百万富翁问题</li></ul></li><li>硬件设备<ul><li>多方安全计算 MPC</li><li>同态加密 HE</li><li>可信执行环境 TEE</li><li>可信密态计算 TECC</li></ul></li><li>可信执行环境 TEE<ul><li>将处理器的一个区域与 CPU 的其余部分分开来使用基于硬件的安全计算模型<ul><li>隔离</li><li>数据加密</li><li>完整性校验</li><li>远程认证</li></ul></li><li>+安全性</li><li>-侧信道攻击</li><li>实现<ul><li>Intel SGX<ul><li>LibOS</li><li>Grammy</li></ul></li><li>ARM TrustZone</li></ul></li><li>TEE OS<ul><li>Occlum 蚂蚁</li></ul></li></ul></li><li>联邦学习 FL</li><li>隐私计算框架<ul><li>TensorFlow Federated (TFF)</li><li>KubeTEE 蚂蚁</li><li>隐语 蚂蚁</li><li>PySyft OpenMined</li></ul></li></ul><h2 id="安全">安全</h2><ul><li>Web漏洞<ul><li>CSRF</li><li>XSS</li><li>SQL</li><li>WAF</li></ul></li><li>安全机制<ul><li>SELinux</li><li>AppArmor</li><li>NX(Dep)</li><li>Seccomp 过滤系统调用</li><li>namespace<ul><li>User</li><li>Net</li><li>PID</li><li>FS</li></ul></li></ul></li></ul><h2 id="云计算-虚拟化">云计算 &amp; 虚拟化</h2><ul><li>云计算<ul><li>IaaS</li><li>PaaS</li><li>FaaS</li></ul></li><li>QEMU</li><li>KVM</li><li>Hypervisor</li><li>体系结构</li><li>virtio<ul><li>模拟PCI设备 麻烦</li></ul></li></ul><h2 id="容器">容器</h2><ul><li>Docker<ul><li>底层<ul><li>namespace</li><li>cgroups</li></ul></li><li>Containerd</li></ul></li><li>K8S<ul><li>架构<ul><li>kubelet</li><li>apiserver</li><li>etcd (raft) 配置信息和服务发现</li><li>controller</li><li>scheduler</li><li>runtime<ul><li>containerd</li></ul></li><li>kube-proxy</li></ul></li><li>概念<ul><li>Pod</li><li>Node</li><li>Container</li></ul></li><li>CRI</li><li>CNI</li><li>OCI</li></ul></li><li>Docker</li><li>Containerd</li><li>Kata<ul><li>+资源管理</li><li>+隔离彻底</li><li>-比较重</li></ul></li><li>gVisor<ul><li>+轻量级 开销更小</li><li>-不支持资源限制</li><li>-仍然是同一个内核</li><li>两种工作模式<ul><li>ptrace + Seccomp<ul><li>退出场景<ul><li>执行syscall</li><li>收到signal</li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="音视频">音视频</h2><ul><li>数字图像滤波</li><li>图像特征</li><li>RGB YUV</li><li>视频编码</li><li>视频格式</li><li>视频帧</li><li></li></ul><h2 id="渲染引擎">渲染引擎</h2><ul><li>C++</li><li>Unity Unreal等引擎经验</li><li>图形学 渲染 计算几何</li><li>动画</li><li>物理仿真</li></ul><h2 id="机器学习-深度学习">机器学习 &amp; 深度学习</h2><ul><li>C++</li><li>CNN<ul><li>卷积层</li></ul></li><li>RNN</li><li>LSTM</li><li>Transformer<ul><li></li></ul></li><li>移动端部署<ul><li>TensorFlow Lite</li><li>NCNN</li><li>MNN</li><li>Paddle-Lite</li><li>技术点<ul><li>big.LITTLE调度</li><li>OpenCL</li></ul></li></ul></li></ul></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-item"><a href="/2024/04/04/distributed-system/" rel="prev" title="分布式系统基础"><i class="fa fa-angle-left"></i> 分布式系统基础</a></div><div class="post-nav-item"><a href="/2024/04/12/2024-04-13/" rel="next" title="近况">近况<i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">frezcirno</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i></span> <span title="站点总字数">161k</span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span title="站点阅读时长">2:26</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/4.22.1/algoliasearch-lite.umd.js" integrity="sha256-pxkGFjfnFWYGOtV9uhCWK/spKiGS0Z7gVDKYm39LyfM=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/instantsearch.js/4.64.2/instantsearch.production.min.js" integrity="sha256-/DLulTBQ8KQ7xGOs8mrQ6FgKsknJpjCGAjFhjfjc8yo=" crossorigin="anonymous"></script><script src="/js/third-party/search/algolia-search.js"></script><script src="/js/third-party/pace.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://frezcirno.github.io/2024/04/07/interview/"}</script><script src="/js/third-party/quicklink.js"></script><script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"frezcirno/frezcirno.github.io","issue_term":"pathname","theme":"preferred-color-scheme"}</script><script src="/js/third-party/comments/utterances.js"></script><script>if(window.matchMedia("(min-width: 760px)").matches){var js=document.createElement("script");js.type="text/javascript",js.defer=!0,js.src="https://frezcirno.github.io/static/live2d-widget/autoload.js",document.getElementsByTagName("head")[0].appendChild(js)}</script></body></html>